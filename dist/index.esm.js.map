{"version":3,"file":"index.esm.js","sources":["../src/util.ts","../src/three.ts"],"sourcesContent":[null,null],"names":["atan","cos","exp","log","tan","PI","Math","degToRad","radToDeg","MathUtils","EARTH_RADIUS","WORLD_SIZE","toLatLngAltitudeLiteral","point","window","google","maps","LatLng","LatLngAltitude","altitude","toJSON","latLngToVector3Relative","reference","target","Vector3","px","py","latLngToXY","rx","ry","set","multiplyScalar","lat","z","position","lng","xyToLatLng","p","x","y","DEFAULT_UP","ThreeJSOverlayView","constructor","options","this","animationMode","rotationArray","Float32Array","rotationInverse","Quaternion","projectionMatrixInverse","Matrix4","raycaster","Raycaster","stopped","anchor","upAxis","scene","map","addDefaultLighting","onRender","id","ID","overlay","WebGLOverlayView","renderer","camera","setAnchor","setUpAxis","Scene","initSceneLights","onAdd","bind","onRemove","onContextLost","onContextRestored","onStateUpdate","onDraw","PerspectiveCamera","setMap","axis","upVector","copy","toLowerCase","console","warn","normalize","q","setFromUnitVectors","invert","euler","Euler","setFromQuaternion","raycast","optionsOrObjects","objects","Array","isArray","recursive","updateMatrix","raycasterParameters","projectionMatrix","ray","origin","applyMatrix4","direction","sub","oldRaycasterParams","params","results","intersectObjects","onBeforeDraw","requestStateUpdate","requestRedraw","getMap","addListener","eventName","handler","gl","WebGLRenderer","canvas","context","antialias","preserveDrawingBuffer","getContextAttributes","autoClear","autoClearDepth","shadowMap","enabled","type","PCFSoftShadowMap","Number","REVISION","outputEncoding","sRGBEncoding","width","height","setViewport","dispose","transformer","fromArray","fromLatLngAltitude","disable","SCISSOR_TEST","render","resetState","latLngAltitudeToVector3","applyQuaternion","bindTo","key","targetKey","noNotify","get","notify","value","setValues","values","unbind","unbindAll","hemiLight","HemisphereLight","dirLight","DirectionalLight","add","setStopped","delete"],"mappings":"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"}