{"version":3,"file":"index.esm.js","sources":["../src/util.ts","../src/three.ts"],"sourcesContent":[null,null],"names":["atan","cos","exp","log","tan","PI","Math","degToRad","radToDeg","MathUtils","EARTH_RADIUS","WORLD_SIZE","toLatLngAltitudeLiteral","point","window","google","maps","LatLng","LatLngAltitude","altitude","toJSON","latLngToVector3Relative","reference","target","Vector3","px","py","latLngToXY","rx","ry","set","multiplyScalar","lat","z","position","lng","xyToLatLng","p","x","y","DEFAULT_UP","ThreeJSOverlayView","constructor","options","this","animationMode","rotationArray","Float32Array","rotationInverse","Quaternion","projectionMatrixInverse","Matrix4","raycaster","Raycaster","stopped","anchor","upAxis","scene","map","addDefaultLighting","onRender","id","ID","overlay","WebGLOverlayView","renderer","camera","setAnchor","setUpAxis","Scene","initSceneLights","onAdd","bind","onRemove","onContextLost","onContextRestored","onStateUpdate","onDraw","PerspectiveCamera","setMap","axis","upVector","copy","toLowerCase","console","warn","normalize","q","setFromUnitVectors","invert","euler","Euler","setFromQuaternion","raycast","optionsOrObjects","objects","Array","isArray","recursive","updateMatrix","raycasterParameters","projectionMatrix","ray","origin","applyMatrix4","direction","sub","oldRaycasterParams","params","results","intersectObjects","onBeforeDraw","requestStateUpdate","requestRedraw","getMap","addListener","eventName","handler","gl","WebGLRenderer","canvas","context","antialias","preserveDrawingBuffer","logarithmicDepthBuffer","getContextAttributes","autoClear","autoClearDepth","shadowMap","enabled","type","PCFSoftShadowMap","Number","REVISION","outputEncoding","sRGBEncoding","width","height","setViewport","dispose","transformer","fromArray","fromLatLngAltitude","disable","SCISSOR_TEST","render","resetState","latLngAltitudeToVector3","applyQuaternion","bindTo","key","targetKey","noNotify","get","notify","value","setValues","values","unbind","unbindAll","hemiLight","HemisphereLight","dirLight","DirectionalLight","add","setStopped","delete"],"mappings":"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"}